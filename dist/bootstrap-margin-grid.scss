$gutter: 30px;

body {
  overflow-x: hidden;
}

@mixin container($padding: $gutter, $max-width: 960px) {
  max-width: $max-width;
  margin: auto;
  padding-left: $padding;
  padding-right: $padding;
}

.container {
  @include container();
}

@mixin row($gutter: $gutter) {
  position: relative;
  margin-left: -($gutter / 2);
  margin-right: -($gutter / 2);

  &:before {
    content: '';
    position: absolute;
    z-index: -1;
    display: block;    
    width: calc(100% - #{$gutter});
    height: 100%;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: auto;
  }

  &:after {
    content: '';
    display: table;
    clear: both;
  }

  > * {
    float: left;
    margin-left: ($gutter / 2);
    margin-right: ($gutter / 2);    
  }
}

.row {
  @include row();
}

@function get-width($numerator: 1, $denominator: 1, $gutter: $gutter) {
  @if ($numerator == 1 and $denominator == 1) {
    @return 100%;
  } @else {
    $fraction: #{$numerator}/#{$denominator};
    @return calc(100% * #{$fraction} - #{$gutter});
  }
}

@mixin column($numerator: 1, $denominator: 1, $gutter: $gutter) {
  width: get-width($numerator, $denominator, $gutter);
}

// Generate classes
@for $i from 1 through 12 {
  .col-#{$i} {
    @include column(#{$i}, 12);
  }
}
